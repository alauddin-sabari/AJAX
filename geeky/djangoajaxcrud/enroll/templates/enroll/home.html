{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
    <link rel="stylesheet" href="{% static 'enroll/css/bootstrap.css' %}"/>
    {% comment %} <link rel="icon" type="image/x-icon" href="{% static 'favicon.ico' %}"> {% endcomment %}

    <title>Ajax</title>
     
</head>
<body>
    <div class="container pt-3">
        <h2 class="text-center alert alert-danger">Ajax with Django</h2>
        <div class="row">
            <div class='col-sm-4'>
                <h4 class='text-center alert alert-info'> Add or Update Studetn's info</h4>
            <form action="" method='POST'>
                {% csrf_token %}
                {% comment %} an hidden field is needed to update and populate through ajax receive and send {% endcomment %}
                <input type="hidden" id="studentID" name="studentID">
                {{ form.as_p}}
                <div id="notification" class='alert alert-success' style="display:none" > 

                </div>

            </form>
            <input type="button" class="btn btn-success" id="btnsave" value="Save">
        </div>

        <div class='col-sm-7'>
            <h4 class='text-center alert alert-success'> Showing Studetn's info</h4>

            <table class="table table-bordered table-striped">
                <thead>
                    <th scope="col"> ID </th>
                  
                    <th scope="col"> Name </th>
                    <th scope="col"> Email </th>
                    <th scope="col"> Password </th>
                    <th scope="col"> Action </th>

                </thead>

                <tbody id="tbody">
                    {% for st in stu %}
                    <tr>
                        <td>{{st.id}}</td>
                        <td> {{ st.name }} </td>
                        <td> {{ st.email }} </td>
                        <td> {{ st.password }} </td>
                        <td>
                            <input type="button" class="btn btn-warning btn-edit" value="Edit" data-sid="{{st.id}}">
                            <input type="button" class="btn btn-danger btn-del" value="Delete" data-sid="{{st.id}}">
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        </div>

    </div>



    <script src="{% static 'enroll/js/jquery.js' %}"></script>
    <script src="{% static 'enroll/js/bootstrap.js' %}"></script>
    <script src="{% static 'enroll/js/popper.js' %}"></script>
   {% include "enroll/ajax.html" %}
</body>
</html>
 